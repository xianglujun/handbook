# 线段树(区间数)
- Segment Tree

## 为什么要使用线段树
- 经典的线段树问题: 区间染色
  - 有一面墙, 长度为n, 每次选择一段墙进行染色
  - m次操作后，我们可以看见多少种颜色?
  - m次操作后，我们可以在[i,j]区间内看见多少种颜色
- 区间查询
  - 查询区间[i,j]的最大值，最小值,或者区间的数字和

### 时间复杂度
- 使用数组实现
  - 染色操作(更新区间) : O(n)
  - 查询操作(查询区间) : O(n)
- 线段树实现
  - 染色操作(更新区间) : O(logN)
  - 查询操作(查询区间) : O(logN)

## 什么是线段树
- 每个节点存储的是一个线段或者区间信息
- 线段树不是完全二叉树(按照顺序插入顺序)
- 线段树是平衡二叉树
- 堆也是平衡二叉树
- 满二叉树依然是一颗完全二叉树，则依然可以使用数组表示
- 满二叉树的最后一层的节点大致等于前面所有节点之和
- 如果区间有n个元素，数组表示需要有`4n`的空间
  - 线段树不考虑添加元素, 所以在生成线段树的时候，只需要考虑`4n`的空间即可

## 线段树的创建
- 从根节点开始依次递归构建
  - left child = (i * 2) + 1
  - right child = (i * 2) + 2

## 线段树的查询
- 从根节点向下遍历

## 线段树的更新操作
- 在更新对应的节点之后, 就需要重新计算区间的计算值

## 更多线段树相关的话题
