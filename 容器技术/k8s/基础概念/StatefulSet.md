# StatefulSet

## 设计思想

得益于`控制器模式`的设计思想，Kubernetes项目很早就在Deployment基础上，扩展出了对`有状态应用`的初步支持。这个编排功能，就是`StatefulSet`



`StatefulSet`的设计思想其实非常容器理解，它把真实世界里的应用状态，抽象为两种情况：

- `拓扑状态`: 这种情况意味着，应用的多个实例之间不是完全对等的关系。
  - 这些应用实例，必须按照某些顺序启动，比如应用的主节点A要先于从节点B启动。而如果你把A和B两个Pod删除，他们再次被创建出来时也必须严格哪找这个顺序启动才行。
  - 新创建出来的Pod, 必须和原来的Pod的网络标识一样，这样原先的访问者才能使用同样的方法，访问到这个新Pod
- `存储状态`: 这种情况以为这多个实例分别绑定了不同的存储数据。
  - 对于这些应用实例来说，Pod A第一次读取到的数据，和隔了十几分钟之后再次读取到的数据，应该是同一份, 那怕Pod A被重新创建过
  - 最典型例子，就是一个数据库应用的额多个存储实例

## StatefulSet 核心功能

